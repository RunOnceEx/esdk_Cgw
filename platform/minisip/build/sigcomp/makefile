# GNU make Makefile template for individual componets
# Copyrights (c) Huawei Technologies (I) Pvt. Ltd.

#include the common MiniSip code organization definitions
#include $(SS_CODE_BUILD)/make.minisip.defs.mk
include ../make.minisip.defs.mk

# Include a common definition file
#include $(SS_CODE_BUILD)/makedefs.minisip.mk
include ../makedefs.minisip.mk


# Set up the include folder directory with Internal headers of the component
SS_SIGCOMP_INCLUDES = $(SS_CC_INCLUDE)$(SS_CBB_INCLUDE_DIR) \
                      $(SS_CC_INCLUDE)$(SS_CBB_H_DIR) \
                      $(SS_CC_INCLUDE)$(SS_SMP_INCLUDE_DIR) \
                      $(SS_CC_INCLUDE)$(SS_SMP_H_DIR) \
                      $(SS_CC_INCLUDE)$(SS_SSP_INCLUDE_DIR) \
                      $(SS_CC_INCLUDE)$(SS_SSP_H_DIR) \
                      $(SS_CC_INCLUDE)$(SS_FRM_INCLUDE_DIR) \
                      $(SS_CC_INCLUDE)$(SS_FRM_H_DIR) \
                      $(SS_CC_INCLUDE)$(SS_DSM_INCLUDE_DIR) \
                      $(SS_CC_INCLUDE)$(SS_DSM_H_DIR) \
                      $(SS_CC_INCLUDE)$(SS_TPT_INCLUDE_DIR) \
                      $(SS_CC_INCLUDE)$(SS_TPT_H_DIR) \
                      $(SS_CC_INCLUDE)$(SS_TXN_INCLUDE_DIR) \
                      $(SS_CC_INCLUDE)$(SS_TXN_H_DIR) \
                      $(SS_CC_INCLUDE)$(SS_SIGCOMP_DIR)/$(SS_INCLUDE_DIR)\
                      $(SS_CC_INCLUDE)$(SS_SIGCOMP_DIR)/$(SS_H_DIR)\
                      $(SS_CC_INCLUDE)$(SS_SIGCOMP_DIR)/$(SS_INC_DIR)

# Source Location
SS_SIGCOMP_SRC_DIR = $(SS_SIGCOMP_DIR)/$(SS_SRC_DIR)


# External Interface headers files exposed by this component
SS_SIGCOMP_INCLUDE_DIR     = $(SS_SIGCOMP_DIR)/$(SS_INCLUDE_DIR)
SS_SIGCOMP_LIB_DEBUG_DIR   = $(SS_LIB_DEBUG_DIR)
SS_SIGCOMP_LIB_RELEASE_DIR = $(SS_LIB_RELEASE_DIR)
SS_SIGCOMP_OBJ_DEBUG_DIR   = $(SS_SIGCOMP_OBJ_DIR)/$(SS_DEBUG)
SS_SIGCOMP_OBJ_RELEASE_DIR = $(SS_SIGCOMP_OBJ_DIR)/$(SS_RELEASE)

# Transaction Object List
SS_SIGCOMP_DEBUG_OBJS =  \
    $(SS_SIGCOMP_OBJ_DEBUG_DIR)/szcd.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_DEBUG_DIR)/szcpsr.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_DEBUG_DIR)/szdd.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_DEBUG_DIR)/szdelimit.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_DEBUG_DIR)/szenc.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_DEBUG_DIR)/szlib.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_DEBUG_DIR)/szlm.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_DEBUG_DIR)/szrsrc.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_DEBUG_DIR)/szsrch.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_DEBUG_DIR)/szstmg.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_DEBUG_DIR)/szudvm.$(SS_OBJ_SUFFIX)

SS_SIGCOMP_RELEASE_OBJS =  \
    $(SS_SIGCOMP_OBJ_RELEASE_DIR)/szcd.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_RELEASE_DIR)/szcpsr.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_RELEASE_DIR)/szdd.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_RELEASE_DIR)/szdelimit.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_RELEASE_DIR)/szenc.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_RELEASE_DIR)/szlib.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_RELEASE_DIR)/szlm.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_RELEASE_DIR)/szrsrc.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_RELEASE_DIR)/szsrch.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_RELEASE_DIR)/szstmg.$(SS_OBJ_SUFFIX) \
    $(SS_SIGCOMP_OBJ_RELEASE_DIR)/szudvm.$(SS_OBJ_SUFFIX)


# Common Targets

all: $(SS_SIGCOMP_DEBUG_OBJS) $(SS_SIGCOMP_RELEASE_OBJS)
	$(call SS_ARCHIVE,$(SS_SIGCOMP_LIB_DEBUG_DIR),$(SS_SIGCOMP_DEBUG_OBJS),$(SS_SIGCOMP_LIB))
	$(call SS_ARCHIVE,$(SS_SIGCOMP_LIB_RELEASE_DIR),$(SS_SIGCOMP_RELEASE_OBJS),$(SS_SIGCOMP_LIB))

clean:
	$(SS_RMV) $(SS_SIGCOMP_OBJ_DEBUG_DIR)/*.$(SS_OBJ_SUFFIX)
	$(SS_RMV) $(SS_SIGCOMP_OBJ_RELEASE_DIR)/*.$(SS_OBJ_SUFFIX)
	$(SS_RMV) $(SS_SIGCOMP_LIB_DEBUG_DIR)/*.$(SS_LIB_SUFFIX)
	$(SS_RMV) $(SS_SIGCOMP_LIB_RELEASE_DIR)/*.$(SS_LIB_SUFFIX)

cleanlib:
	$(SS_RMV) $(SS_SIGCOMP_LIB_DEBUG_DIR)/*.$(SS_LIB_SUFFIX)
	$(SS_RMV) $(SS_SIGCOMP_LIB_RELEASE_DIR)/*.$(SS_LIB_SUFFIX)


# DEBUG OBJECTS BUILDING RULES
$(SS_SIGCOMP_OBJ_DEBUG_DIR)/szcd.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szcd.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_DEBUG),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_DEBUG_DIR),szcd)

$(SS_SIGCOMP_OBJ_DEBUG_DIR)/szcpsr.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szcpsr.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_DEBUG),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_DEBUG_DIR),szcpsr)

$(SS_SIGCOMP_OBJ_DEBUG_DIR)/szdd.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szdd.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_DEBUG),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_DEBUG_DIR),szdd)

$(SS_SIGCOMP_OBJ_DEBUG_DIR)/szdelimit.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szdelimit.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_DEBUG),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_DEBUG_DIR),szdelimit)

$(SS_SIGCOMP_OBJ_DEBUG_DIR)/szenc.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szenc.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_DEBUG),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_DEBUG_DIR),szenc)

$(SS_SIGCOMP_OBJ_DEBUG_DIR)/szlib.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szlib.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_DEBUG),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_DEBUG_DIR),szlib)

$(SS_SIGCOMP_OBJ_DEBUG_DIR)/szlm.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szlm.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_DEBUG),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_DEBUG_DIR),szlm)

$(SS_SIGCOMP_OBJ_DEBUG_DIR)/szrsrc.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szrsrc.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_DEBUG),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_DEBUG_DIR),szrsrc)

$(SS_SIGCOMP_OBJ_DEBUG_DIR)/szsrch.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szsrch.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_DEBUG),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_DEBUG_DIR),szsrch)

$(SS_SIGCOMP_OBJ_DEBUG_DIR)/szstmg.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szstmg.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_DEBUG),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_DEBUG_DIR),szstmg)

$(SS_SIGCOMP_OBJ_DEBUG_DIR)/szudvm.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szudvm.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_DEBUG),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_DEBUG_DIR),szudvm)

# Release Object building rules
$(SS_SIGCOMP_OBJ_RELEASE_DIR)/szcd.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szcd.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_RELEASE),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_RELEASE_DIR),szcd)

$(SS_SIGCOMP_OBJ_RELEASE_DIR)/szcpsr.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szcpsr.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_RELEASE),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_RELEASE_DIR),szcpsr)

$(SS_SIGCOMP_OBJ_RELEASE_DIR)/szdd.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szdd.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_RELEASE),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_RELEASE_DIR),szdd)

$(SS_SIGCOMP_OBJ_RELEASE_DIR)/szdelimit.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szdelimit.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_RELEASE),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_RELEASE_DIR),szdelimit)

$(SS_SIGCOMP_OBJ_RELEASE_DIR)/szenc.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szenc.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_RELEASE),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_RELEASE_DIR),szenc)

$(SS_SIGCOMP_OBJ_RELEASE_DIR)/szlib.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szlib.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_RELEASE),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_RELEASE_DIR),szlib)

$(SS_SIGCOMP_OBJ_RELEASE_DIR)/szlm.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szlm.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_RELEASE),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_RELEASE_DIR),szlm)

$(SS_SIGCOMP_OBJ_RELEASE_DIR)/szrsrc.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szrsrc.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_RELEASE),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_RELEASE_DIR),szrsrc)

$(SS_SIGCOMP_OBJ_RELEASE_DIR)/szsrch.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szsrch.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_RELEASE),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_RELEASE_DIR),szsrch)

$(SS_SIGCOMP_OBJ_RELEASE_DIR)/szstmg.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szstmg.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_RELEASE),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_RELEASE_DIR),szstmg)

$(SS_SIGCOMP_OBJ_RELEASE_DIR)/szudvm.$(SS_OBJ_SUFFIX): $(SS_SIGCOMP_SRC_DIR)/szudvm.$(SS_SRC_SUFFIX)
	$(call SS_COMPILE,$(SS_CFLAGS_RELEASE),$(SS_SIGCOMP_INCLUDES),$(SS_SIGCOMP_SRC_DIR),$(SS_SIGCOMP_OBJ_RELEASE_DIR),szudvm)
